<div class="container mx-auto px-4 py-4 md:py-6">

  <!-- GRID: 3 columnas en desktop -->
  <section class="grid md:grid-cols-3 gap-5 items-stretch">

    <!-- FILA 1 (desktop): Funcionalidades ocupa las 3 columnas -->
    <article class="md:col-span-3 w-full">
      <div class="h-full rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-5 md:p-6">
        <header class="mb-3 flex items-start justify-between gap-4">
          <div>
            <h2 class="text-xl sm:text-2xl font-semibold text-white">Funcionalidades</h2>
            <p class="text-gray-300/90 text-sm">Operaciones clave del panel y comportamiento de la app.</p>
          </div>
          <!-- Toggle (flecha derecha cerrado / abajo abierto) -->
          <button
            type="button"
            class="inline-flex items-center gap-2 text-yellow-400 hover:text-yellow-300 font-semibold text-sm transition"
            data-info-toggle="funcionalidades-content"
            data-icon-right="ph-caret-right"
            data-icon-down="ph-caret-down"
            aria-controls="funcionalidades-content"
            aria-expanded="false"
            title="Ver más funcionalidades"
          >
            <i class="ph ph-caret-right text-base transition-transform duration-300 text-yellow-400"></i>
            Ver más
          </button>
        </header>

        <!-- Lista: muestra 2 ítems; el resto en bloque colapsable -->
        <div class="space-y-3">
          <!-- 1) CRUD -->
          <div class="flex gap-3 p-3 rounded-xl border border-white/10 bg-white/5">
            <div class="shrink-0 w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center">
              <i class="ph ph-check-circle text-xl text-yellow-400"></i>
            </div>
            <div class="text-gray-200">
              <p class="font-medium text-white leading-tight">CRUD seguro con confirmaciones</p>
              <p class="text-sm text-gray-300/90">Alta, edición y eliminación con validaciones y confirmación antes de acciones críticas.</p>
            </div>
          </div>

          <!-- 2) Búsqueda / paginación -->
          <div class="flex gap-3 p-3 rounded-xl border border-white/10 bg-white/5">
            <div class="shrink-0 w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center">
              <i class="ph ph-magnifying-glass text-xl text-yellow-400"></i>
            </div>
            <div class="text-gray-200">
              <p class="font-medium text-white leading-tight">Búsqueda y paginación</p>
              <p class="text-sm text-gray-300/90">Listados rápidos con paginación del lado del servidor y buscador ágil.</p>
            </div>
          </div>

          <!-- Colapsable (resto de funcionalidades) -->
          <div id="funcionalidades-content" class="space-y-3">
            <!-- 3) Validaciones -->
            <div class="flex gap-3 p-3 rounded-xl border border-white/10 bg-white/5">
              <div class="shrink-0 w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center">
                <i class="ph ph-shield-check text-xl text-yellow-400"></i>
              </div>
              <div class="text-gray-200">
                <p class="font-medium text-white leading-tight">Validaciones consistentes</p>
                <p class="text-sm text-gray-300/90">Reglas reutilizables, filtros de lenguaje y manejo de errores centralizado.</p>
              </div>
            </div>

            <!-- 4) Seed / reset -->
            <div class="flex gap-3 p-3 rounded-xl border border-white/10 bg-white/5">
              <div class="shrink-0 w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center">
                <i class="ph ph-arrows-clockwise text-xl text-yellow-400"></i>
              </div>
              <div class="text-gray-200">
                <p class="font-medium text-white leading-tight">Seed / reset desde API externa</p>
                <p class="text-sm text-gray-300/90">Sincronización con RESTCountries y utilidades para poblar o reiniciar datos.</p>
              </div>
            </div>

            <!-- 5) Exportación -->
            <div class="flex gap-3 p-3 rounded-xl border border-white/10 bg-white/5">
              <div class="shrink-0 w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center">
                <i class="ph ph-file-arrow-down text-xl text-yellow-400"></i>
              </div>
              <div class="text-gray-200">
                <p class="font-medium text-white leading-tight">Exportación</p>
                <p class="text-sm text-gray-300/90">Descarga de datos en CSV para informes o respaldo.</p>
              </div>
            </div>

            <!-- 6) Tests -->
            <div class="flex gap-3 p-3 rounded-xl border border-white/10 bg-white/5">
              <div class="shrink-0 w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center">
                <i class="ph ph-flask text-xl text-yellow-400"></i>
              </div>
              <div class="text-gray-200">
                <p class="font-medium text-white leading-tight">Pruebas automatizadas</p>
                <p class="text-sm text-gray-300/90">Cobertura de validaciones y endpoints con Vitest + Supertest.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </article>

    <!-- FILA 2 (desktop): Tecnologías | QR | GitHub comparten la fila -->
    <!-- Tecnologías -->
    <section class="h-full">
      <div class="h-full rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-6">
        <header class="mb-3">
          <h2 class="text-xl sm:text-2xl font-semibold text-white">Tecnologías</h2>
          <p class="text-gray-300/90 text-sm">Herramientas aplicadas en el desarrollo del proyecto.</p>
        </header>

        <div class="grid grid-cols-2 sm:grid-cols-3 gap-5">
          <!-- Node.js -->
          <div class="flex flex-col items-center gap-2">
            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center">
              <img src="/icons/nodejs.svg" alt="Node.js" class="w-7 h-7"
                   style="filter: invert(72%) sepia(84%) saturate(743%) hue-rotate(1deg) brightness(102%) contrast(101%);" />
            </div>
            <p class="text-sm text-gray-300">Node.js</p>
          </div>
          <!-- Express -->
          <div class="flex flex-col items-center gap-2">
            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center">
              <img src="/icons/express.svg" alt="Express" class="w-7 h-7"
                    style="filter: invert(72%) sepia(84%) saturate(743%) hue-rotate(1deg) brightness(102%) contrast(101%);" />
            </div>
            <p class="text-sm text-gray-300">Express</p>
          </div>
          <!-- MongoDB -->
          <div class="flex flex-col items-center gap-2">
            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center">
              <img src="/icons/mongodb.svg" alt="MongoDB" class="w-7 h-7"
                    style="filter: invert(72%) sepia(84%) saturate(743%) hue-rotate(1deg) brightness(102%) contrast(101%);" />
            </div>
            <p class="text-sm text-gray-300">MongoDB</p>
          </div>
          <!-- EJS -->
          <div class="flex flex-col items-center gap-2">
            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center">
              <img src="/icons/ejs.svg" alt="EJS" class="w-7 h-7"
                    style="filter: invert(72%) sepia(84%) saturate(743%) hue-rotate(1deg) brightness(102%) contrast(101%);" />
            </div>
            <p class="text-sm text-gray-300">EJS</p>
          </div>
          <!-- Tailwind -->
          <div class="flex flex-col items-center gap-2">
            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center">
              <img src="/icons/tailwind.svg" alt="TailwindCSS" class="w-7 h-7"
                    style="filter: invert(72%) sepia(84%) saturate(743%) hue-rotate(1deg) brightness(102%) contrast(101%);" />
            </div>
            <p class="text-sm text-gray-300">TailwindCSS</p>
          </div>
          <!-- JavaScript -->
          <div class="flex flex-col items-center gap-2">
            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center">
              <img src="/icons/javascript.svg" alt="JavaScript" class="w-7 h-7 text-yellow-400"
                    style="filter: invert(72%) sepia(84%) saturate(743%) hue-rotate(1deg) brightness(102%) contrast(101%);" />
            </div>
            <p class="text-sm text-gray-300">JavaScript</p>
          </div>
        </div>
      </div>
    </section>

    <!-- QR -->
    <section class="h-full flex items-center justify-center">
      <div class="h-full rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-6 text-center flex flex-col items-center justify-center">
        <header class="mb-2">
          <h2 class="text-lg sm:text-xl font-semibold text-white">Sígueme</h2>
          <p class="text-gray-300/90 text-sm">Escaneá el código y enterate de las novedades.</p>
        </header>
        <div class="flex items-center justify-center">
          <img src="/img/QR.svg" alt="QR - Sígueme"
               class="w-36 h-36 md:w-40 md:h-40 rounded-lg border border-white/10 object-cover" />
        </div>
      </div>
    </section>

   <!-- GitHub -->
<section class="h-full">
  <div class="h-full rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-5 md:p-6 text-center flex flex-col items-center justify-center">
    <header class="mb-2">
      <h2 class="text-lg sm:text-xl font-semibold text-white">Código fuente</h2>
      <p class="text-gray-300/90 text-sm">Repositorio público del proyecto.</p>
    </header>
    <a
      href="<%= typeof githubUrl !== 'undefined' && githubUrl ? githubUrl : 'https://github.com/augustovillegas/Nodo_FS_sp5_entregablefinal.git' %>"
      target="_blank"
      class="inline-flex items-center justify-center gap-2 bg-yellow-400 hover:bg-yellow-300 text-black font-semibold px-5 py-2.5 md:px-4 md:py-2 rounded-xl transition w-full sm:w-auto"
      aria-label="Ver código en GitHub"
    >
      <i class="ph ph-github-logo text-xl"></i>
      Ver código en GitHub
    </a>
    <p class="text-xs text-yellow-400 mt-3">
      <span class="block">Visitar la web:</span>
      <a href="https://apirestcountries.onrender.com/" target="_blank" class="underline hover:text-yellow-300/80">
        https://apirestcountries.onrender.com
      </a>
    </p>
  </div>

  </section>
</div>

<!-- Script externo (toggle de secciones) -->
<script src="/js/info-toggle.js" defer></script>
